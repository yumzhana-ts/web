<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>CGI Tester</title>
<style>
body { font-family: monospace; background: #111; color: #eee; padding: 20px; }
h2 { color: #8be9fd; }
.card {
  background: #1a1a1a;
  border-radius: 8px;
  padding: 12px;
  margin: 10px 0;
  box-shadow: 0 0 8px #000;
}
button {
  background: #333;
  color: #eee;
  padding: 6px 12px;
  border-radius: 6px;
  border: none;
  cursor: pointer;
  margin-top: 6px;
}
button:hover { background: #444; }
input, textarea {
  width: 100%;
  margin-top: 6px;
  padding: 6px;
  border-radius: 6px;
  border: 1px solid #555;
  background: #222;
  color: #eee;
}
pre { background: #222; padding: 8px; border-radius: 6px; overflow-x: auto; color: #ccc; margin-top: 6px; }
small { color: #999; display: block; margin-top: 4px; }
</style>
</head>
<body>
<h2>CGI Script Tester: /cgi-bin/name.py</h2>
<p>Test different HTTP methods for your CGI script.</p>

<div class="card">
  <b>GET request</b>
  <small>Example: /cgi-bin/name.py?name=John</small>
  <input type="text" id="get-query" value="name=John">
  <button onclick="sendCgi('GET')">Send GET</button>
  <pre id="cgi-get-result"></pre>
</div>

<div class="card">
  <b>POST request</b>
  <small>Send POST data to CGI script</small>
  <textarea id="post-data" rows="3">name=John</textarea>
  <button onclick="sendCgi('POST')">Send POST</button>
  <pre id="cgi-post-result"></pre>
</div>

<div class="card">
  <b>PUT request</b>
  <small>Send PUT data to CGI script</small>
  <textarea id="put-data" rows="3">name=John</textarea>
  <button onclick="sendCgi('PUT')">Send PUT</button>
  <pre id="cgi-put-result"></pre>
</div>

<hr>
<p><a href="/tester.html">Back to main tester</a></p>
<p><small>Generated at <script>document.write(new Date().toLocaleString())</script></small></p>

<script>
function sendCgi(method) {
  let url = '/cgi-bin/name.py';
  let body = null;
  let resultId = '';

  if (method === 'GET') {
    const query = document.getElementById('get-query').value;
    url += '?' + query;
    resultId = 'cgi-get-result';
  } else if (method === 'POST') {
    body = document.getElementById('post-data').value;
    resultId = 'cgi-post-result';
  } else if (method === 'PUT') {
    body = document.getElementById('put-data').value;
    resultId = 'cgi-put-result';
  }

  fetch(url, { method: method, body: body })
    .then(resp => resp.text().then(text => {
      document.getElementById(resultId).textContent =
        `Status: ${resp.status}\n\n${text}`;
    }))
    .catch(err => {
      document.getElementById(resultId).textContent = 'Error: ' + err;
    });
}
</script>
</body>
</html>
